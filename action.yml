name: Auto-GPT-Action
description: A GitHub Action that uses runs Auto-GPT to follow instructions in the issue description.
author: Nicholas Albion

branding:
  color: ${{ github.action.color }}
  icon: ${{ github.action.icon }}

inputs:
  openai_key:
    description: The OpenAI API key.
    required: true
  issue_body:
    description: The body of the issue.
    required: true
  issue_number:
    description: The number of the issue.
    required: true
  ai_role:
    description: The role of the AI.
    default: I want you to act as a software developer who is willing to review the issue described and commit appropriate fixes on a feature branch. You will run the tests and iterate until all tests pass and then you will exit.  

outputs:
  commit_message:
    description: 'The commit message generated by Auto-GPT.'
  comment_message:
    description: 'The comment message generated by the GitHub custom Docker container Action.'

runs:
  using: docker
  image: nalbion/auto-gpt-action
  args: --ai_role ${{ inputs.ai_role }} --openai_key ${{ inputs.openai_key }} --issue_body ${{ inputs.issue_body }} --issue_number ${{ inputs.issue_number }}
